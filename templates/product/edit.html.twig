{% extends 'base.html.twig' %}

{% block title %}Edit Product
{% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('css/product.css') }}"/>
{% endblock %}

{% block body %}
	<div class="product-form-page">
		<div class="container">

			<div class="product-form-container">
				<h1 class="product-form-title">
					<span class="material-icons-outlined">edit</span>
					Edit Product:
					{{ product.title }}
				</h1>

				{{ form_start(form, {'attr': {'enctype': 'multipart/form-data', 'novalidate': 'novalidate'}}) }}

				<div class="form-section">
					<h3 class="form-section-title">
						<span class="material-icons-outlined">info</span>
						Basic Information
					</h3>

					<div class="form-group">
						{{ form_label(form.title) }}
						{{ form_widget(form.title, {'attr': {'class': 'form-control', 'placeholder': 'Enter product title...'}}) }}
						{{ form_errors(form.title) }}
					</div>

					<div class="form-group">
						{{ form_label(form.description) }}
						{{ form_widget(form.description, {'attr': {'class': 'form-control', 'placeholder': 'Describe your product...', 'rows': 4}}) }}
						{{ form_errors(form.description) }}
					</div>

					<div class="row">
						<div class="col-md-6">
							<div class="form-group">
								{{ form_label(form.category) }}
								{{ form_widget(form.category, {'attr': {'class': 'form-select'}}) }}
								{{ form_errors(form.category) }}
							</div>
						</div>
						<div class="col-md-6">
							<div class="form-group">
								{{ form_label(form.price) }}
								<div class="input-group">
									{{ form_widget(form.price, {'attr': {'class': 'form-control', 'placeholder': '0.00'}}) }}
								</div>
								{{ form_errors(form.price) }}
							</div>
						</div>
					</div>
				</div>

				<div class="form-section">
					<h3 class="form-section-title">
						<span class="material-icons-outlined">inventory</span>
						Inventory & Media
					</h3>

					<div class="row">
						<div class="col-md-6">
							<div class="form-group">
								{{ form_label(form.stockQuantity) }}
								{{ form_widget(form.stockQuantity, {'attr': {'class': 'form-control', 'placeholder': '0', 'min': '0'}}) }}
								{{ form_errors(form.stockQuantity) }}
							</div>
						</div>
						<div class="col-md-6">
							<div class="form-group">
								{{ form_label(form.images) }}
								<div class="file-upload-wrapper">
									{{ form_widget(form.images, {'attr': {'class': 'form-control', 'accept': 'image/*'}}) }}
								</div>
								{{ form_errors(form.images) }}
								{% if product.images|length > 0 %}
									<small class="text-muted">Current image:
										{{ product.images[0].filename }}</small>
								{% endif %}
							</div>
						</div>
					</div>
				</div>

				<div class="form-actions">
					<button type="submit" class="btn btn-primary">
						<span class="material-icons-outlined">save</span>
						Update Product
					</button>
				</div>

				{{ form_end(form) }}
			</div>
		</div>
	</div>
{% endblock %}
