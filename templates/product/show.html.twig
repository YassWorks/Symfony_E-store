{% extends 'base.html.twig' %}

{% block title %}{{ product.title }}{% endblock %}

{% block body %}
<div class="container py-4">
  <div class="row">
    <div class="col-md-6">    {% if product.images|length > 0 %}
      {% set image = product.images[0] %}
        <img 
          src="{{ asset('uploads/products_images/' ~ image.filename) }}" 
          alt="{{ product.title }}"
          style="max-width:400px; max-height:400px;"
        >
    {% else %}
      <img src="{{ asset('uploads/default.jpg') }}" alt="No image">
    {% endif %}
    </div>
    <div class="col-md-6">
      <h2>{{ product.title }}</h2>
      {% if product.shop %}
        <p><strong>Shop:</strong></p>
        {% include 'shop/shopinfo.html.twig' %}
      {% endif %}
      <p><strong>Category:</strong> {{ product.category.value }}</p>
      <p><strong>Price:</strong> ${{ product.price }}</p>
      <p><strong>Stock:</strong> {{ product.stockQuantity }}</p>
      <p>{{ product.description }}</p>
      
      <form method="post" action="{{ path('cart_add', { id: product.id }) }}" class="d-flex align-items-center mt-3">
        <input
          type="number"
          name="quantity"
          value="1"
          min="1"
          class="form-control w-auto me-2"
        />
        <button class="btn btn-primary">Add to Cart</button>
      </form>
    
    </div>
  </div>
</div>
{% endblock %}
